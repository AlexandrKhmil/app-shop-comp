(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/reload.d694bd07.svg"},14:function(e,t,a){e.exports={img:"styles_img__2kd1o",commentIndx:"styles_commentIndx__2qmtw",starList:"styles_starList__3TBq9",starListColored:"styles_starListColored__2LAkU",starListButtons:"styles_starListButtons__EBUON",buttonVote:"styles_buttonVote__1dIDp",star:"styles_star__1JU8r"}},180:function(e,t,a){e.exports=a.p+"static/media/starGray.af746962.svg"},181:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a(2),i=a(17),o=a(61),s=a(62),u=a(1),m={type:null,title:null,text:null},d={login:{isOpen:!1},registration:{isOpen:!1},cart:{isOpen:!1}},E={email:null,token:localStorage.getItem("token"),isLoading:!1,isAuth:!1},p=a(25),b={list:function(){var e=localStorage.getItem("cart");return e?JSON.parse(e):{}}()},f={list:{},isLoading:!1,isLoaded:!1,active:null},g={list:{},isLoading:!1,isLoaded:!1,active:null},O={list:{},offset:0,didLoadedAll:!1,isLoading:!1,isLoaded:!1,sortType:"DATE_DESC"},v={data:{},isLoading:!1,isLoaded:!1,isReviewLoading:!1,isReviewLoaded:!0},_={isLoading:!1,isLoaded:!1},y={list:{},isLoading:!1,isLoaded:!1},S=Object(i.combineReducers)({message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"MESSAGE_SHOW":return Object(u.a)(Object(u.a)({},e),n);default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=t.type;t.payload;switch(a){case"MODAL_LOGIN_OPEN":return document.body.setAttribute("style","overflow: hidden;"),Object(u.a)(Object(u.a)({},e),{},{login:Object(u.a)(Object(u.a)({},e.login),{},{isOpen:!0})});case"MODAL_LOGIN_CLOSE":return document.body.removeAttribute("style"),Object(u.a)(Object(u.a)({},e),{},{login:Object(u.a)(Object(u.a)({},e.login),{},{isOpen:!1})});case"MODAL_REGISTRATION_OPEN":return document.body.setAttribute("style","overflow: hidden;"),Object(u.a)(Object(u.a)({},e),{},{registration:Object(u.a)(Object(u.a)({},e.registration),{},{isOpen:!0})});case"MODAL_REGISTRATION_CLOSE":return document.body.removeAttribute("style"),Object(u.a)(Object(u.a)({},e),{},{registration:Object(u.a)(Object(u.a)({},e.registration),{},{isOpen:!1})});case"MODAL_CART_OPEN":return document.body.setAttribute("style","overflow: hidden;"),Object(u.a)(Object(u.a)({},e),{},{cart:Object(u.a)(Object(u.a)({},e.cart),{},{isOpen:!0})});case"MODAL_CART_CLOSE":return document.body.removeAttribute("style"),Object(u.a)(Object(u.a)({},e),{},{cart:Object(u.a)(Object(u.a)({},e.cart),{},{isOpen:!1})});default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ACCOUNT_AUTH_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case"ACCOUNT_AUTH_SUCCESS":return Object(u.a)(Object(u.a)(Object(u.a)({},e),n),{},{isLoading:!1,isAuth:!0});case"ACCOUNT_AUTH_FAIL":return localStorage.removeItem("token"),Object(u.a)(Object(u.a)({},e),{},{token:null,isLoading:!1});case"ACCOUNT_LOGIN_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case"ACCOUNT_LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(u.a)(Object(u.a)(Object(u.a)({},e),n),{},{isLoading:!1,isAuth:!0});case"ACCOUNT_LOGIN_FAIL":return Object(u.a)(Object(u.a)({},e),{},{email:null,token:null,isLoading:!1,isAuth:!1});case"ACCOUNT_REGISTRATION_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case"ACCOUNT_REGISTRATION_SUCCESS":return localStorage.setItem("token",n.token),Object(u.a)(Object(u.a)(Object(u.a)({},e),n),{},{isLoading:!1,isAuth:!0});case"ACCOUNT_REGISTRATION_FAIL":return Object(u.a)(Object(u.a)({},e),{},{email:null,token:null,isLoading:!1,isAuth:!1});case"ACCOUNT_LOGOUT":return localStorage.removeItem("token"),Object(u.a)(Object(u.a)({},e),{},{email:null,token:null,isLoading:!1,isAuth:!1});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CART_ADD_PRODUCT":var r=Object(u.a)(Object(u.a)({},e.list),{},Object(p.a)({},n,{id:n,quantity:e.list[n]?e.list[n].quantity+1:1}));return localStorage.setItem("cart",JSON.stringify(r)),Object(u.a)(Object(u.a)({},e),{},{list:r});case"CART_REMOVE_PRODUCT":var c=Object(u.a)(Object(u.a)({},e.list),{},Object(p.a)({},n,{quantity:0}));return localStorage.setItem("cart",JSON.stringify(c)),Object(u.a)(Object(u.a)({},e),{},{list:c});case"CART_CLEAR_PRODUCT":var l=Object.entries(e.list).filter((function(e){return e[1].id!==n})),i=Object.fromEntries(l);return localStorage.setItem("cart",JSON.stringify(i)),Object(u.a)(Object(u.a)({},e),{},{list:i});case"CART_CLEAR_ALL":return localStorage.removeItem("cart"),Object(u.a)(Object(u.a)({},e),{},{list:{}});default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CATEGORY_LIST_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case"CATEGORY_LIST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{list:Object(u.a)({},n),isLoading:!1,isLoaded:!0});case"CATEGORY_LIST_FAIL":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isLoaded:!0});case"CATEGORY_SET_ACTIVE":return Object(u.a)(Object(u.a)({},e),{},{active:e.active!==n?n:null});default:return e}},tag:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"TAG_LIST_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case"TAG_LIST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{list:Object(u.a)({},n.map((function(e){return{tag:e,isActive:!1}}))),isLoading:!1,isLoaded:!0});case"TAG_LIST_FAIL":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isLoaded:!0});case"TAG_SET_ACTIVE":var r=Object.values(e.list).map((function(e){return e.tag===n?Object(u.a)(Object(u.a)({},e),{},{isActive:!e.isActive}):e}));return Object(u.a)(Object(u.a)({},e),{},{list:Object(u.a)({},r)});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"PRODUCT_LIST_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,isLoaded:!1});case"PRODUCT_LIST_SUCCESS":var r=Object.fromEntries(n.map((function(e){return[e.id,Object(u.a)({},e)]})));return Object(u.a)(Object(u.a)({},e),{},{list:Object(u.a)(Object(u.a)({},e.list),r),isLoading:!1,isLoaded:!0});case"PRODUCT_LIST_FAIL":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isLoaded:!0});case"PRODUCT_PAGE_CHANGE":return Object(u.a)(Object(u.a)({},e),{},{offset:e.offset+n});case"PRODUCT_PAGE_END":return Object(u.a)(Object(u.a)({},e),{},{didLoadedAll:!0});case"PRODCUT_SET_SORT":return Object(u.a)(Object(u.a)({},e),{},{sortType:n});default:return e}},selected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SELECTED_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{data:{},isLoading:!0,isLoaded:!1});case"SELECTED_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{data:n,isLoading:!1,isLoaded:!0});case"SELECTED_FAIL":return Object(u.a)(Object(u.a)({},e),{},{data:{},isLoading:!1,isLoaded:!0});case"REVIEW_LIST_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isReviewLoading:!0,isReviewLoaded:!1});case"REVIEW_LIST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{review_list:n}),isReviewLoading:!1,isReviewLoaded:!0});case"REVIEW_LIST_FAIL":return Object(u.a)(Object(u.a)({},e),{},{isReviewLoading:!1,isReviewLoaded:!0});case"RATE_GET_REQUEST":return e;case"RATE_GET_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{rate:n.rate})});case"RATE_GET_FAIL":default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type;t.payload;switch(a){case"REVIEW_ADD_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,isLoaded:!1});case"REVIEW_ADD_SUCCESS":case"REVIEW_ADD_FAIL":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isLoaded:!0});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ORDER_LIST_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,isLoaded:!1});case"ORDER_LIST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{list:n,isLoading:!1,isLoaded:!0});case"ORDER_LIST_FAIL":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isLoaded:!0});default:return e}}}),L=Object(i.createStore)(S,Object(s.composeWithDevTools)(Object(i.applyMiddleware)(o.a))),C=(a(81),a(7)),A=a(18),N=a(21),j=Object(l.b)((function(e){return{message:e.message,type:e.message.type,title:e.message.title,text:e.message.text}}))(Object(N.d)()((function(e){var t=e.message,a=e.alert;return Object(n.useEffect)((function(){t.type&&("MESSAGE_ERROR"===t.type&&a.error(t),"MESSAGE_SUCCESS"===t.type&&a.success(t))}),[t,a]),r.a.createElement(r.a.Fragment,null)}))),T=a(63),h=a.n(T),R=function(e){var t=e.style,a=e.message,n=e.close,c="MESSAGE_SUCCESS"===a.type?"alert-success":"alert-warning";return r.a.createElement("div",{className:"alert alert-dismissible ".concat(c),style:t},r.a.createElement("h4",{className:"alert-heading ".concat(h.a.head)},a.title||"\u041e\u0448\u0438\u0431\u043a\u0430!"),r.a.createElement("p",{className:"mb-0"},a.text||""),r.a.createElement("button",{type:"button",className:"close",onClick:n},"\xd7"))},I=a(5),k=a.n(I),U=function(e){var t=e.headers,a=e.body;return{config:{headers:Object(u.a)({"Content-Type":"application/json"},t)},body:a=a&&JSON.stringify(a)}},x=function(e){var t="";if(e){var a=e.split("T")[0].split("-");t="".concat(a[2],"-").concat(a[1],"-").concat(a[0])}return t},D=function(e){var t="";if(e){var a=e.split("T")[0].split("-"),n=e.split("T")[1].split("Z")[0].split(":");t="".concat(n[0],":").concat(n[1]," ").concat(a[2],"-").concat(a[1],"-").concat(a[0])}return t},w=function(e){var t=0;if(e){var a=e.split("T")[0].split("-"),n=e.split("T")[1].split("Z")[0].split(":");t=parseFloat(n[2])+60*parseFloat(n[1])+60*parseFloat(n[0])*60+60*parseFloat(a[2])*60*24+60*parseFloat(a[1])*60*24*30+60*parseFloat(a[0])*60*24*30*12}return t},G=function(e){return{type:"MESSAGE_SHOW",payload:{type:e.type,title:e.title,text:e.text}}},F=function(e){var t=e.msg,a=e.errorList;return function(e){t&&e(G({type:"MESSAGE_ERROR",title:"\u041e\u0448\u0438\u0431\u043a\u0430!",text:t})),a&&a.forEach((function(t){e(G({type:"MESSAGE_ERROR",title:t.param,text:t.msg}))}))}},P=a(64),M=a.n(P),Q=Object(l.b)((function(e){return{isAuth:e.account.isAuth,email:e.account.email,cartCount:Object.values(e.cart.list).reduce((function(e,t){return e+t.quantity}),0)}}),(function(e){return{logoutUser:function(){return e({type:"ACCOUNT_LOGOUT"})},modalLoginOpen:function(){return e({type:"MODAL_LOGIN_OPEN"})},modalRegOpen:function(){return e({type:"MODAL_REGISTRATION_OPEN"})},modalCartOpen:function(){return e({type:"MODAL_CART_OPEN"})}}}))((function(e){var t=e.isAuth,n=e.email,c=e.logoutUser,l=e.modalLoginOpen,i=e.modalRegOpen,o=e.modalCartOpen,s=e.cartCount,u=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link btn btn-link",onClick:l},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link btn btn-link",onClick:i},"Register"))),m=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement("p",{className:"text-light mb-0 mr-3"},"Welcome ",n,"!")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link btn btn-link",onClick:c},"Logout")));return r.a.createElement("header",{className:"pt-4 pb-5"},r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-primary fixed-top"},r.a.createElement(C.b,{className:"navbar-brand",to:"/"},"Brand"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbar","aria-controls":"navbar","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbar"},r.a.createElement("ul",{className:"navbar-nav mr-auto align-items-center"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.b,{className:"nav-link",exact:!0,to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.b,{className:"nav-link",to:"/checkout"},"Checkout")),t&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.b,{className:"nav-link",to:"/user-page"},"My orders"))),r.a.createElement("ul",{className:"navbar-nav ml-auto align-items-center"},t?m:u,r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link btn btn-info d-flex align-items-center p-2",onClick:o},r.a.createElement("span",{className:"mr-2"},s),r.a.createElement("img",{className:M.a.cartImg,src:a(99),alt:"Cart"})))))))})),B=a(182),V=a(22),W=a.n(V),q=function(e){var t=e.isOpen,a=e.title,c=e.children,l=e.close,i=e.className,o=e.classNameContent,s=void 0===o?"":o,u=e.classNameBody,m=void 0===u?"":u,d=e.Footer,E=Object(n.createRef)();return r.a.createElement(B.a,{in:t,timeout:200,classNames:{enter:W.a.enter,enterActive:W.a.enterActive,exit:W.a.exit,exitActive:W.a.exitActive},unmountOnExit:!0},r.a.createElement("div",{className:W.a.modalBackdrop,ref:E,onClick:function(e){return e.target===E.current&&l()}},r.a.createElement("div",{className:"modal-dialog ".concat(i)},r.a.createElement("div",{className:"modal-content ".concat(s)},r.a.createElement("div",{className:"modal-header"},a&&r.a.createElement("h5",{className:"modal-title"},a),r.a.createElement("button",{onClick:l,className:"close","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body ".concat(m)},c),d&&r.a.createElement("div",{className:"card-footer"},r.a.createElement(d,null))))))},H=a(9),J=Object(l.b)((function(e){return{isLoading:e.account.isLoading}}),(function(e){return{loginUser:function(t){return e(function(e){var t=e.email,a=e.password;return function(e){e({type:"ACCOUNT_LOGIN_REQUEST"});var n=U({body:{email:t,password:a}}),r=n.config,c=n.body;k.a.post("/api/account/login",c,r).then((function(t){e({type:"ACCOUNT_LOGIN_SUCCESS",payload:t.data}),e({type:"MODAL_LOGIN_CLOSE"})})).catch((function(t){e({type:"ACCOUNT_LOGIN_FAIL"}),e(F(t.response.data))}))}}(t))}}}))((function(e){var t=e.isLoading,a=e.loginUser,c=Object(n.useState)(""),l=Object(H.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(""),u=Object(H.a)(s,2),m=u[0],d=u[1],E=Boolean(i&&m);return r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),!E)return G({type:"MESSAGE_ERROR",text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!"});a({email:i,password:m})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"form-control",type:"email",name:"email",value:i,onChange:function(e){return o(e.target.value)},disabled:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",value:m,onChange:function(e){return d(e.target.value)},disabled:t})),r.a.createElement("div",{className:"form-group d-flex justify-content-end mb-0"},r.a.createElement("button",{className:"btn btn-primary d-flex  justify-content-between align-items-center",disabled:t},t&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),t?"Loading":"Enter")))})),Y=Object(l.b)((function(e){return{isLoading:e.account.isLoading}}),(function(e){return{registrationUser:function(t){return e(function(e){var t=e.email,a=e.password;return function(e){e({type:"ACCOUNT_REGISTRATION_REQUEST"});var n=U({body:{email:t,password:a}}),r=n.config,c=n.body;k.a.post("/api/account/registration",c,r).then((function(t){e({type:"ACCOUNT_REGISTRATION_SUCCESS",payload:t.data}),e({type:"MODAL_REGISTRATION_CLOSE"})})).catch((function(t){e({type:"ACCOUNT_REGISTRATION_FAIL"}),e(F(t.response.data))}))}}(t))},messageShow:function(t){return e(G(t))}}}))((function(e){var t=e.isLoading,a=e.registrationUser,c=e.messageShow,l=Object(n.useState)(""),i=Object(H.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)(""),m=Object(H.a)(u,2),d=m[0],E=m[1],p=Object(n.useState)(""),b=Object(H.a)(p,2),f=b[0],g=b[1],O=d===f,v=Boolean(o&&d&&f);return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault(),v?O?void a({email:o,password:d}):c({type:"MESSAGE_ERROR",text:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!"}):c({type:"MESSAGE_ERROR",text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!"})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"form-control",type:"email",name:"email",value:o,onChange:function(e){return s(e.target.value)},disabled:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",value:d,onChange:function(e){return E(e.target.value)},disabled:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"passwordRepeat"},"Repeat Password"),r.a.createElement("input",{className:"form-control ".concat(O?"":"is-invalid"),type:"password",name:"passwordRepeat",value:f,onChange:function(e){return g(e.target.value)},disabled:t}),r.a.createElement("div",{className:"invalid-feedback"},"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!")),r.a.createElement("div",{className:"form-group d-flex justify-content-end mb-0"},r.a.createElement("button",{className:"btn btn-primary d-flex  justify-content-between align-items-center",disabled:t},t&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),t?"Loading":"Enter")))})),X=function(e){return{type:"CART_ADD_PRODUCT",payload:e}},K=a(26),Z=a.n(K),z=Object(l.b)((function(e){var t=Object.values(e.product.list);return{list:Object.values(e.cart.list).map((function(e){return Object(u.a)(Object(u.a)({},t.find((function(t){return t.id===e.id}))),{},{quantity:e.quantity})}))}}),(function(e){return{cartClearProducrt:function(t){return e({type:"CART_CLEAR_PRODUCT",payload:t})},modalCartClose:function(){return e({type:"MODAL_CART_CLOSE"})}}}))((function(e){var t=e.list,a=e.cartClearProducrt,n=e.modalCartClose;return 0===t.length?r.a.createElement("div",{className:Z.a.cartBody},"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"):r.a.createElement("div",{className:Z.a.cartBody},t.map((function(e){return r.a.createElement("div",{className:"card card-body flex-row align-items-start mb-3",key:e.id},r.a.createElement("button",{className:"btn btn-danger d-flex justify-content-center align-items-center p-0 ".concat(Z.a.remove),onClick:function(){return a(e.id)}},"\xd7"),r.a.createElement(C.b,{className:"d-flex justify-content-center align-items-center",to:"/product/".concat(e.link),onClick:n},r.a.createElement("img",{className:Z.a.img,src:e.img_url,alt:"Cart Product"})),r.a.createElement("div",{className:"ml-3 mr-4"},r.a.createElement(C.b,{to:"/product/".concat(e.link),onClick:n},r.a.createElement("h5",null,e.title)),r.a.createElement("div",null,r.a.createElement("span",null,e.price," \u20b4"),r.a.createElement("span",null," * "),r.a.createElement("span",null,e.quantity," \u0448\u0442."),r.a.createElement("span",null," = "),r.a.createElement("span",null,(e.price*e.quantity).toFixed(2)," \u20b4"))))})))})),$=a(66),ee=a.n($),te=Object(l.b)((function(e){return{totalPrice:Object.values(e.cart.list).reduce((function(t,a){var n=Object.values(e.product.list).find((function(e){return e.id===a.id})),r=n?n.price:0;return t+a.quantity*r}),0)}}),(function(e){return{modalCartClose:function(){return e({type:"MODAL_CART_CLOSE"})}}}))((function(e){var t=e.totalPrice,a=e.modalCartClose;return r.a.createElement("div",null,r.a.createElement("div",{className:"border-bottom d-flex justify-content-between align-items-center px-3 mb-3 ".concat(ee.a.row)},r.a.createElement("span",null,"Total price:"),r.a.createElement("span",null,t.toFixed(2)," \u20b4")),r.a.createElement(C.b,{className:"btn btn-primary btn-lg btn-block",onClick:a,to:"/checkout"},"Go to Checkout"))})),ae=function(e){return{type:"PRODUCT_LIST_SUCCESS",payload:e}},ne=function(e){return{type:"PRODUCT_PAGE_CHANGE",payload:e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{limit:9,offset:0},t=e.limit,a=void 0===t?9:t,n=e.offset;return function(e){e({type:"PRODUCT_LIST_REQUEST"});var t=U({headers:{limit:a,offset:n}}).config;k.a.get("/api/product/list",t).then((function(t){e(ae(t.data)),e(ne(t.data.length)),t.data.length<a&&e({type:"PRODUCT_PAGE_END"})})).catch((function(t){e({type:"PRODUCT_LIST_FAIL"}),e(F(t.response.data))}))}},ce=Object(l.b)((function(e){return{categoriesList:Object.values(e.category.list),tagList:Object.values(e.tag.list),active:e.category.active,activeSortType:e.product.sortType}}),(function(e){return{categorySetActive:function(t){return e({type:"CATEGORY_SET_ACTIVE",payload:t})},tagSetActive:function(t){return e({type:"TAG_SET_ACTIVE",payload:t})},productSetSort:function(t){return e({type:"PRODCUT_SET_SORT",payload:t})}}}))((function(e){var t=e.categoriesList,a=e.active,n=e.categorySetActive,c=e.tagList,l=e.tagSetActive,i=e.productSetSort,o=e.activeSortType;return r.a.createElement("aside",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-sm-6 col-lg-12 mb-3"},r.a.createElement("div",{className:"card card-body border-primary h-100 h-lg-auto"},r.a.createElement("h3",{className:"border-bottom border-light pb-2 mb-3"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"),r.a.createElement("div",{className:"d-flex flex-column align-items-start"},r.a.createElement("button",{className:"btn mb-2 ".concat("DATE_DESC"===o?"btn-primary":"btn-outline-primary"),onClick:function(){return i("DATE_DESC")}},"\u0421\u043f\u0435\u0440\u0432\u0430 \u043d\u043e\u0432\u044b\u0435"),r.a.createElement("button",{className:"btn mb-2 ".concat("DATE_ASC"===o?"btn-primary":"btn-outline-primary"),onClick:function(){return i("DATE_ASC")}},"\u0421\u043f\u0435\u0440\u0432\u0430 \u0441\u0442\u0430\u0440\u044b\u0435"),r.a.createElement("button",{className:"btn mb-2 ".concat("PRICE_ASC"===o?"btn-primary":"btn-outline-primary"),onClick:function(){return i("PRICE_ASC")}},"\u0421\u043f\u0435\u0440\u0432\u0430 \u0434\u0435\u0448\u0435\u0432\u044b\u0435"),r.a.createElement("button",{className:"btn mb-2  ".concat("PRICE_DESC"===o?"btn-primary":"btn-outline-primary"),onClick:function(){return i("PRICE_DESC")}},"\u0421\u043f\u0435\u0440\u0432\u0430 \u0434\u043e\u0440\u043e\u0433\u0438\u0435")))),r.a.createElement("div",{className:"col-12 col-sm-6 col-lg-12 mb-3"},r.a.createElement("div",{className:"card card-body border-primary h-100 h-lg-auto"},r.a.createElement("h3",{className:"border-bottom border-light pb-2 mb-3"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),r.a.createElement("div",{className:"d-flex flex-column align-items-start"},t.map((function(e,t){return r.a.createElement("button",{className:"btn mb-2 ".concat(a!==e?"btn-outline-primary":"btn-primary"),onClick:function(){return n(e)},key:t},e)}))))),r.a.createElement("div",{className:"col-12 col-sm-6 col-lg-12 mb-3"},r.a.createElement("div",{className:"card card-body border-primary h-100 h-lg-auto"},r.a.createElement("h3",{className:"border-bottom border-light pb-2 mb-3"},"\u0422\u044d\u0433\u0438"),r.a.createElement("div",{className:"d-flex flex-column align-items-start"},c.map((function(e,t){return r.a.createElement("button",{className:"btn mb-2 ".concat(e.isActive?"btn-primary":"btn-outline-primary"),onClick:function(){return l(e.tag)},key:t},e.tag)})))))))})),le=a(29),ie=a.n(le),oe=Object(l.b)((function(e){return{}}),(function(e){return{cartAddProduct:function(t){return e(X(t))}}}))((function(e){var t=e.id,n=e.title,c=e.img_url,l=e.link,i=e.price,o=e.category,s=e.rate,u=e.vote_count,m=e.review_count,d=e.tag_list,E=e.cartAddProduct;return r.a.createElement("div",{className:"card card-body h-100"},r.a.createElement("div",{className:"mb-2",style:{minHeight:"24px"}},d.map((function(e,t){return r.a.createElement("span",{className:"badge badge-primary mr-1",key:t},e)}))),r.a.createElement(C.b,{className:"d-flex justify-content-center",to:"/product/".concat(l)},r.a.createElement("img",{className:ie.a.img,src:c,alt:"Product Card"})),r.a.createElement(C.b,{to:"/product/".concat(l)},r.a.createElement("h5",null,n)),r.a.createElement("div",{className:"d-flex text-muted"},r.a.createElement("small",null,r.a.createElement("span",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: "),r.a.createElement("span",null,o))),r.a.createElement("div",{className:"d-flex text-muted"},r.a.createElement("small",null,r.a.createElement("span",null,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: "),r.a.createElement("span",null,s?"".concat(parseInt(s).toFixed(2)," \n                (").concat(u," \u0433\u043e\u043b\u043e\u0441").concat(u>1?"\u0430":"",")"):"\u041d\u0435\u0442 \u0433\u043e\u043b\u043e\u0441\u043e\u0432"))),r.a.createElement("div",{className:"d-flex text-muted"},r.a.createElement("small",null,r.a.createElement("span",null,"\u041e\u0442\u0437\u044b\u0432\u043e\u0432: "),r.a.createElement("span",null,m))),r.a.createElement("div",null,i," \u20b4"),r.a.createElement("button",{className:ie.a.btn,onClick:function(){return E(t)}},r.a.createElement("span",null,"Add to Cart"),r.a.createElement("img",{className:ie.a.plus,src:a(51),alt:"Cart Plus"})))})),se=a(67),ue=a.n(se),me=Object(l.b)((function(e){var t=Object.values(e.product.list);return t=function(e){var t=e.category,a=e.list;return t&&(a=a.filter((function(e){return e.category===t}))),a}({category:e.category.active,list:t}),t=function(e){var t=e.tagList,a=e.productList,n=Object.values(t).filter((function(e){return e.isActive})).map((function(e){return e.tag}));return n.length>0&&(a=a.filter((function(e){return e.tag_list.length>0&&e.tag_list.some((function(e){return n.indexOf(e)>=0}))}))),a}({tagList:e.tag.list,productList:t}),{productList:t=function(e){var t=e.type,a=e.list;switch(t){case"PRICE_ASC":return a.sort((function(e,t){return e.price-t.price}));case"PRICE_DESC":return a.sort((function(e,t){return t.price-e.price}));case"DATE_ASC":return a.sort((function(e,t){return e.create_time-t.create_time}));case"DATE_DESC":return a.sort((function(e,t){return t.create_time-e.create_time}));default:return a}}({type:e.product.sortType,list:t}),isLoading:e.product.isLoading,isLoaded:e.product.isLoaded,offset:e.product.offset,didLoadedAll:e.product.didLoadedAll}}),(function(e){return{productGetList:function(t){return e(re(t))}}}))((function(e){var t=e.productList,n=e.isLoading,c=e.offset,l=e.productGetList,i=e.didLoadedAll;return r.a.createElement("main",null,r.a.createElement("div",{className:"container-fluid mt-sm-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-3 mb-3"},r.a.createElement(ce,null)),r.a.createElement("div",{className:"col-12 col-lg-9"},r.a.createElement("div",{className:"row"},t&&t.map((function(e,t){return r.a.createElement("div",{className:"col-6 col-md-4 col-xl-3 mb-3",key:t},r.a.createElement(oe,e))})),!i&&r.a.createElement("div",{className:"col-12 col-md-4 col-xl-3 mb-3"},r.a.createElement("div",{className:"card card-body border-0 h-100 d-flex justify-content-center align-items-center"},r.a.createElement("button",{className:"btn bg-white border-primary rounded-circle d-flex justify-content-center align-items-center ".concat(ue.a.reload),onClick:function(){return l({offset:c})},disabled:n},r.a.createElement("img",{src:a(100),alt:"Reload"})),r.a.createElement("span",null,n?"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435..."))))))))})),de=function(e){var t=e.token;return function(e){e({type:"ORDER_LIST_REQUEST"});var a=U({headers:{token:t}}).config;k.a.get("/api/order/list",a).then((function(t){e({type:"ORDER_LIST_SUCCESS",payload:t.data})})).catch((function(t){e({type:"ORDER_LIST_FAIL"}),e(F(t.response.data))}))}},Ee=Object(l.b)((function(e){return{isAuth:e.account.isAuth,token:e.account.token,isLoading:!1,userEmail:e.account.email,isEmpty:0===Object.values(e.cart.list).length,cart:Object.values(e.cart.list).map((function(e){return{product_id:e.id,quantity:e.quantity}}))}}),(function(e){return{orderAdd:function(t){return e(function(e){var t=e.token,a=e.cart;return function(e){e({type:"ORDER_ADD_REQUEST"});var n=U({headers:{token:t},body:{cart:a}}),r=n.config,c=n.body;k.a.post("/api/order/",c,r).then((function(a){e((a.data,{type:"ORDER_ADD_SUCCESS"})),e({type:"CART_CLEAR_ALL"}),e(G({type:"MESSAGE_SUCCESS",title:"\u0423\u0441\u043f\u0435\u0445!",text:"\u0417\u0430\u043a\u0430\u0437 \u043f\u043e\u0441\u0442\u0443\u043f\u0438\u043b \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f!\n\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430 - ".concat(a.data.code)})),e(de({token:t}))})).catch((function(t){e({type:"ORDER_ADD_FAIL"}),e(F(t.response.data))}))}}(t))},modalLoginOpen:function(t){return e({type:"MODAL_LOGIN_OPEN"})}}}))((function(e){var t=e.isLoading,a=e.userEmail,c=e.isEmpty,l=e.orderAdd,i=e.token,o=e.cart,s=e.isAuth,u=e.modalLoginOpen,m=Object(n.useState)(""),d=Object(H.a)(m,2),E=d[0],p=d[1],b=Object(n.useState)(""),f=Object(H.a)(b,2),g=f[0],O=f[1],v=Object(n.useState)(""),_=Object(H.a)(v,2),y=_[0],S=_[1],L=Boolean(E&&g&&y);Object(n.useEffect)((function(){a&&p(a)}),[a]);return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault(),L?c?G({type:"MESSAGE_ERROR",text:"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430!"}):void l({token:i,cart:o}):G({type:"MESSAGE_ERROR",text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!"})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{className:"form-control",type:"email",name:"email",value:E,onChange:function(e){return p(e.target.value)},disabled:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone:"),r.a.createElement("input",{className:"form-control",type:"phone",name:"phone",value:g,onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"city"},"\u0410\u0434\u0440\u0435\u0441:"),r.a.createElement("input",{className:"form-control",type:"text",name:"city",value:y,onChange:function(e){return S(e.target.value)}})),r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement("button",{className:"btn btn-primary d-flex justify-content-between align-items-center",disabled:t||c||!s},t&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),t?"Loading":"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),!s&&r.a.createElement("div",{className:"d-flex align-items-center flex-wrap mt-3"},r.a.createElement("span",{className:"mr-1"},"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),r.a.createElement("button",{className:"btn btn-link p-0",onClick:u},"\u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),".")))})),pe=function(e){var t=e.data,a=t?Object.entries(t):[];return r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"border-top-0"},"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430"),r.a.createElement("th",{className:"border-top-0"},"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"))),r.a.createElement("tbody",null,a.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e[0]),r.a.createElement("td",null,e[1]))}))))},be=Object(l.b)((function(e){var t=Object.values(e.cart.list).reduce((function(t,a){var n=Object.values(e.product.list).find((function(e){return e.id===a.id})),r=n?n.price:0;return t+a.quantity*r}),0),a=Object.values(e.cart.list).reduce((function(e,t){return e+t.quantity}),0);return{tableData:{"\u0421\u0443\u043c\u043c\u0430":"".concat(t.toFixed(2)," \u20b4"),"\u0412\u0441\u0435\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432":a,"\u041f\u043e\u0437\u0438\u0446\u0438\u0439 \u0442\u043e\u0432\u0430\u0440\u043e\u0432":Object.values(e.cart.list).length}}}),(function(e){return{}}))((function(e){var t=e.tableData;return r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-5 mb-3"},r.a.createElement("div",{className:"card card-body border-primary"},r.a.createElement(Ee,null))),r.a.createElement("div",{className:"col-12 col-lg-7 mb-3"},r.a.createElement("div",{className:"card card-body border-primary mb-3"},r.a.createElement("h2",null,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),r.a.createElement(pe,{data:t})),r.a.createElement("div",{className:"card card-body border-primary"},r.a.createElement("h2",null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430:"),r.a.createElement(z,null))))))})),fe=a(68),ge=a.n(fe),Oe=a(14),ve=a.n(Oe),_e=function(e){var t=e.token,a=e.link,n=e.value;return function(e){e({type:"RATE_ADD_REQUEST"});var r=U({headers:{token:t},body:{value:n}}),c=r.config,l=r.body;k.a.post(function(e){return"/api/product/".concat(e,"/rate")}(a),l,c).then((function(){e({type:"RATE_ADD_SUCCESS"}),e(G({type:"MESSAGE_SUCCESS",title:"\u0423\u0441\u043f\u0435\u0445!",text:"\u0412\u0430\u0448\u0430 \u043e\u0446\u0435\u043d\u043a\u0430 \u0443\u0447\u0442\u0435\u043d\u0430!"}))})).then((function(){e(function(e){var t=e.link;return function(e){e({type:"RATE_GET_REQUEST"});var a=U({headers:{link:t}}).config;k.a.get(function(e){return"/api/product/".concat(e,"/rate/value")}(t),a).then((function(t){e({type:"RATE_GET_SUCCESS",payload:t.data})})).catch((function(t){e({type:"RATE_GET_FAIL"}),e(F(t.response.data))}))}}({link:a}))})).catch((function(t){e({type:"RATE_ADD_FAIL"}),e(F(t.response.data))}))}},ye=Object(l.b)((function(e,t){return{isAuth:e.account.isAuth,rating:e.selected.data.rate||0,votesCount:e.selected.data.votes,link:t.link,token:e.account.token}}),(function(e){return{rateAdd:function(t){return e(_e(t))}}}))((function(e){var t=e.isAuth,n=e.rating,c=e.votesCount,l=e.rateAdd,i=e.link,o=e.token;return r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("span",null,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433:"),r.a.createElement("div",{className:"d-flex"},n?r.a.createElement("span",{className:"mr-2"},r.a.createElement("span",{className:"mr-1"},String(n).slice(0,4)),r.a.createElement("span",null,"(",c," \u0433\u043e\u043b\u043e\u0441",c>1?"\u0430":"",")")):r.a.createElement("span",{className:"mr-2"},"\u041d\u0435\u0442 \u0433\u043e\u043b\u043e\u0441\u043e\u0432"),r.a.createElement("div",{className:"d-flex justify-content-center position-relative"},r.a.createElement("ul",{className:ve.a.starList},Array(5).fill(0).map((function(e,t){return r.a.createElement("li",{className:ve.a.star,key:t},r.a.createElement("img",{src:a(180),alt:"Gray Star"}))}))),t&&r.a.createElement("ul",{className:"".concat(ve.a.starList," ").concat(ve.a.starListColored," ").concat(ve.a.starListButtons)},[5,4,3,2,1].map((function(e,t){return r.a.createElement("li",{className:ve.a.star,key:t},r.a.createElement("button",{className:ve.a.buttonVote,onClick:function(){return l({token:o,link:i,value:e})}},r.a.createElement("img",{src:a(59),alt:"Star"})))}))),r.a.createElement("ul",{className:"".concat(ve.a.starList," ").concat(ve.a.starListColored)},function(e){var t=e/5*500;return Array(5).fill(0).map((function(){var e=t>=100?100:t;return t=t>=100?t-100:0,e}))}(n).map((function(e,t){return r.a.createElement("li",{className:ve.a.star,key:t},r.a.createElement("img",{src:a(59),style:{width:"".concat(e,"%")},alt:"Star"}))}))))))})),Se=Object(l.b)((function(e){var t=e.selected.data.review_list,a=t?Object.values(t):[];return{list:a=a.sort((function(e,t){return w(t.update_time)-w(e.update_time)}))}}),{})((function(e){var t=e.list;return t&&0!==t.length?r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("div",{className:"card card-body border-primary mb-3",key:e.id},r.a.createElement("h5",null,e.title),r.a.createElement("small",null,e.email," \u0432 ",D(e.create_time),e.create_time!==e.update_time?" (\u0418\u0437\u043c\u0435\u043d\u0435\u043d ".concat(D(e.update_time),")"):""),r.a.createElement("p",{className:"mb-0"},e.text))}))):r.a.createElement(r.a.Fragment,null,"\u041e\u0442\u0437\u044b\u0432\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442...")})),Le=function(e){var t=e.token,a=e.link,n=e.title,r=e.text;return function(e){e({type:"REVIEW_ADD_REQUEST"});var c=U({headers:{token:t},body:{title:n,text:r}}),l=c.config,i=c.body;k.a.post(function(e){return"/api/product/".concat(e,"/review")}(a),i,l).then((function(t){e({type:"REVIEW_ADD_SUCCESS",payload:t.data}),e(G({type:"MESSAGE_SUCCESS",title:"\u0423\u0441\u043f\u0435\u0445!",text:"\u0412\u0430\u0448 \u043e\u0442\u0437\u044b\u0432 \u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d!"}))})).then((function(){!function(e){var t=e.link;return function(e){e({type:"REVIEW_LIST_REQUEST"});var a=U({headers:{link:t}}).config;k.a.get(function(e){return"/api/product/".concat(e,"/review/list")}(t),a).then((function(t){e({type:"REVIEW_LIST_SUCCESS",payload:t.data})})).catch((function(t){e({type:"REVIEW_LIST_FAIL"}),e(F(t.response.data))}))}}({link:a})(e)})).catch((function(t){e({type:"REVIEW_ADD_FAIL"}),e(F(t.response.data))}))}},Ce=Object(l.b)((function(e){var t=e.selected.data.review_list&&e.selected.data.review_list.find((function(t){return t.email===e.account.email}));return{isAuth:e.account.token,link:e.selected.data.link,token:e.account.token,userReview:t,isLoading:e.review.isLoading,isLoaded:e.review.isLoaded}}),(function(e){return{reviewAdd:function(t){return e(Le(t))},modalLoginOpen:function(){return e({type:"MODAL_LOGIN_OPEN"})}}}))((function(e){var t=e.isAuth,a=e.token,c=e.link,l=e.reviewAdd,i=e.modalLoginOpen,o=e.userReview,s=e.isLoading,u=(e.isLoaded,Object(n.useState)("")),m=Object(H.a)(u,2),d=m[0],E=m[1],p=Object(n.useState)(""),b=Object(H.a)(p,2),f=b[0],g=b[1],O=s?"Loading":o?"Change Review":"Send Review";return Object(n.useEffect)((function(){o&&(E(o.title),g(o.text))}),[o]),t?r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l({token:a,link:c,title:d,text:f})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),r.a.createElement("input",{className:"form-control",type:"text",name:"title",value:d,onChange:function(e){return E(e.target.value)},disabled:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"text"},"\u0422\u0435\u043a\u0441\u0442"),r.a.createElement("textarea",{className:"form-control",type:"textarea",name:"text",value:f,onChange:function(e){return g(e.target.value)},disabled:s})),r.a.createElement("div",{className:"form-group d-flex justify-content-end mb-0"},r.a.createElement("button",{className:"btn btn-primary d-flex justify-content-between align-items-center",disabled:s},s&&r.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),O))):r.a.createElement("div",{className:"d-flex align-items-center flex-wrap"},r.a.createElement("span",{className:"mr-1"},"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0437\u044b\u0432"),r.a.createElement("button",{className:"btn btn-link p-0",onClick:i},"\u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),".")})),Ae=a(30),Ne=a.n(Ae),je=Object(l.b)((function(e,t){var a=e.selected.data,n={"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f":a.category,"\u0426\u0435\u043d\u0430":"".concat(a.price," \u20b4"),"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d":x(a.create_time)};return a.tag_list&&a.tag_list.length>0&&(n["\u0422\u044d\u0433\u0438"]=a.tag_list.join(", ")),{product:a,tableData:n,link:t.match.params.link,isLoading:e.selected.isLoading,isLoaded:e.selected.isLoaded}}),(function(e){return{selectedGet:function(t){return e(function(e){var t=e.link;return function(e){e({type:"SELECTED_REQUEST"}),k.a.get(function(e){return"/api/product/".concat(e,"/info")}(t)).then((function(t){e({type:"SELECTED_SUCCESS",payload:t.data})})).catch((function(t){e({type:"SELECTED_FAIL"}),e(F(t.response.data))}))}}(t))},cartAddProduct:function(t){return e(X(t))}}}))((function(e){var t=e.link,c=e.isLoading,l=e.isLoaded,i=e.selectedGet,o=e.product,s=e.tableData,u=e.cartAddProduct;return Object(n.useEffect)((function(){(!c&&!l||o.link!==t&&!c)&&i({link:t})}),[o.link,t,c,l,i]),r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-5 mb-3"},r.a.createElement("div",{className:"card card-body border-primary "},r.a.createElement("img",{className:"mb-3 ".concat(Ne.a.img),src:o.img_url,alt:"Product"}),r.a.createElement(ye,{link:t}))),r.a.createElement("div",{className:"col-lg-7 mb-3"},r.a.createElement("h1",{className:"mb-3"},o.title),r.a.createElement("div",{className:"card card-body border-primary"},r.a.createElement(pe,{data:s}),r.a.createElement("button",{className:Ne.a.btn,onClick:function(){return u(o.id)}},r.a.createElement("span",null,"Add to Cart"),r.a.createElement("img",{className:Ne.a.plus,src:a(51),alt:"Cart Plus"})))),r.a.createElement("div",{className:"col-12 mb-3"},r.a.createElement("div",{className:"card card-body border-primary"},r.a.createElement(ge.a,{source:o.description}))),r.a.createElement("div",{className:"col-12 mb-3"},r.a.createElement("div",{className:"card card-body border-primary"},r.a.createElement("h3",null,"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0437\u044b\u0432:"),r.a.createElement(Ce,null))),r.a.createElement("div",{className:"col-12 mb-3"},r.a.createElement("h3",null,"\u041e\u0442\u0437\u044b\u0432\u044b:"),r.a.createElement(Se,null)))))})),Te=Object(l.b)((function(e){return{isAuth:e.account.isAuth,token:e.account.token,list:Object.values(e.order.list)}}),(function(e){return{orderGetList:function(t){return e(de(t))}}}))((function(e){var t=e.isAuth,a=e.token,c=e.list,l=e.orderGetList;return Object(n.useEffect)((function(){a&&l({token:a})}),[a,l]),t?r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"\u0412\u0430\u0448\u0438 \u0437\u0430\u043a\u0430\u0437\u044b:"),c.map((function(e){return r.a.createElement("div",{className:"card card-body mb-3 flex-row justify-content-between align-items-center"},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("h4",null,e.code),r.a.createElement("span",null,r.a.createElement("small",null,"\u0421\u0434\u0435\u043b\u0430\u043d: ",D(e.create_time))),r.a.createElement("span",null,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",e.total_price),r.a.createElement("span",null,"\u0422\u043e\u0432\u0430\u0440\u044b: ",e.product_list.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("small",null,t+1,". ",e.title," : ",e.quantity," \u0448\u0442."))})))),r.a.createElement("div",null,"\u0421\u0442\u0430\u0442\u0443\u0441 ",r.a.createElement("span",{className:"text-danger"},"'",e.status,"'")))})))):r.a.createElement(A.a,{to:"/"})})),he=Object(l.b)((function(e){return{accountToken:e.account.token,accountIsAuth:e.account.isAuth,categoryIsLoading:e.category.isLoading,categoryIsLoaded:e.category.isLoaded,tagIsLoading:e.tag.isLoading,tagIsLoaded:e.tag.isLoaded,productIsLoading:e.product.isLoading,productIsLoaded:e.product.isLoaded,modalLoginIsOpen:e.modal.login.isOpen,modalRegIsOpen:e.modal.registration.isOpen,modalCartIsOpen:e.modal.cart.isOpen}}),(function(e){return{accountAuth:function(t){return e((a=t,function(e){e({type:"ACCOUNT_AUTH_REQUEST"});var t=U({headers:{token:a}}).config;k.a.get("/api/account/auth",t).then((function(t){e({type:"ACCOUNT_AUTH_SUCCESS",payload:t.data})})).catch((function(t){e({type:"ACCOUNT_AUTH_FAIL"}),e(F(t.response.data))}))}));var a},categoryGetList:function(){return e((function(e){e({type:"CATEGORY_LIST_REQUEST"}),k.a.get("/api/product/categories").then((function(t){e({type:"CATEGORY_LIST_SUCCESS",payload:t.data})})).catch((function(t){e({type:"CATEGORY_LIST_FAIL"}),e(F(t.response.data))}))}))},tagGetList:function(){return e((function(e){e({type:"TAG_LIST_REQUEST"}),k.a.get("/api/product/tags").then((function(t){e({type:"TAG_LIST_SUCCESS",payload:t.data})})).catch((function(t){e({type:"TAG_LIST_FAIL"}),e(F(t.response.data))}))}))},productGetList:function(t){return e(re(t))},modalLoginClose:function(){return e({type:"MODAL_LOGIN_CLOSE"})},modalRegClose:function(){return e({type:"MODAL_REGISTRATION_CLOSE"})},modalCartClose:function(){return e({type:"MODAL_CART_CLOSE"})}}}))((function(e){var t=e.accountToken,a=e.accountIsAuth,c=e.accountAuth,l=e.categoryIsLoading,i=e.categoryIsLoaded,o=e.categoryGetList,s=e.tagIsLoading,u=e.tagIsLoaded,m=e.tagGetList,d=e.productIsLoading,E=e.productIsLoaded,p=e.productGetList,b=e.modalLoginIsOpen,f=e.modalLoginClose,g=e.modalRegIsOpen,O=e.modalRegClose,v=e.modalCartIsOpen,_=e.modalCartClose;Object(n.useEffect)((function(){t&&!a&&c(t)}),[t,a,c]),Object(n.useEffect)((function(){l||i||o()}),[l,i,o]),Object(n.useEffect)((function(){s||u||m()}),[s,u,m]),Object(n.useEffect)((function(){d||E||p()}),[d,E,p]);var y={position:N.b.TOP_CENTER,timeout:5e3,transition:N.c.FADE,containerStyle:{zIndex:1070}};return r.a.createElement(N.a,Object.assign({template:R},y),r.a.createElement(C.a,null,r.a.createElement(Q,null),r.a.createElement(j,null),r.a.createElement(q,{className:"w-100",isOpen:b,close:f,title:"Login"},r.a.createElement(J,null)),r.a.createElement(q,{className:"w-100",isOpen:g,close:O,title:"Registration"},r.a.createElement(Y,null)),r.a.createElement(q,{className:"h-100 m-0 ml-auto",classNameContent:"h-100",classNameBody:"overflow-auto",isOpen:v,close:_,title:"Cart",Footer:te},r.a.createElement(z,null)),r.a.createElement(A.d,null,r.a.createElement(A.b,{exact:!0,path:"/",component:me}),r.a.createElement(A.b,{path:"/checkout",component:be}),r.a.createElement(A.b,{path:"/product/:link",component:je}),r.a.createElement(A.b,{path:"/user-page/",component:Te}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(c.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:L},r.a.createElement(he,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},22:function(e,t,a){e.exports={modalBackdrop:"styles_modalBackdrop__353kg",enter:"styles_enter__XIfJs",enterActive:"styles_enterActive__3MrjS",exit:"styles_exit__36a8r",exitActive:"styles_exitActive__2CHS6"}},26:function(e,t,a){e.exports={cartBody:"styles_cartBody__2X_U3",img:"styles_img__3BSUS",remove:"styles_remove__2ay2C"}},29:function(e,t,a){e.exports={img:"styles_img__10RGU",btn:"styles_btn__1-J8t"}},30:function(e,t,a){e.exports={img:"styles_img__2Kd4M",btn:"styles_btn__Ypoow"}},51:function(e,t,a){e.exports=a.p+"static/media/plus.07cfe515.svg"},59:function(e,t,a){e.exports=a.p+"static/media/star.bbb7ece8.svg"},63:function(e,t,a){e.exports={head:"styles_head__3KviF"}},64:function(e,t,a){e.exports={cartImg:"styles_cartImg__3SwUV"}},66:function(e,t,a){e.exports={row:"styles_row__toFmX"}},67:function(e,t,a){e.exports={reload:"styles_reload__1ilTW"}},72:function(e,t,a){e.exports=a(181)},81:function(e,t,a){},99:function(e,t,a){e.exports=a.p+"static/media/shopping-cart.22e1fa41.svg"}},[[72,1,2]]]);
//# sourceMappingURL=main.643fae67.chunk.js.map